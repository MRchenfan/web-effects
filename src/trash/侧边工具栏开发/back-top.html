<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>实现回到顶部的缓动效果</title>
  <script src="../cf.1.0.js"></script>
  <style>
    .back-top{
      display:inline-block;
      text-align:center;
      width:50px;
      line-height:50px;
      background: #6A64FC;
      position:fixed;
      bottom:50px;
      right:50px;
    }
    .back-top:hover{
      background: #6FC9D0;
    }
  </style>
</head>
<body>
  <div style="width:20px;margin:0 auto;">
    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus id minus qui tempora! Quidem est tempora, quod ipsum voluptates dolore deleniti nesciunt animi sapiente veniam saepe quisquam esse, ipsam perferendis!
    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia assumenda expedita possimus nobis? Recusandae saepe dolorem, quas voluptates officia cum laboriosam, sint, illo tenetur quibusdam alias necessitatibus unde deserunt ipsum!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt expedita optio, modi maiores blanditiis. Repellat suscipit aut eius, distinctio, dolorum quos illum amet libero accusantium, dolorem a explicabo. Voluptatem, in!
    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem illum laborum impedit non eaque voluptates molestiae ut ipsum debitis iste reprehenderit voluptatibus, sunt, numquam molestias ea in, eius veritatis aut.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio explicabo ducimus saepe sapiente rerum, dicta nostrum! Eaque, cum aspernatur delectus deserunt numquam dicta dolor. Possimus expedita rerum laborum fugit rem.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam recusandae pariatur suscipit totam aspernatur adipisci, voluptate reprehenderit eius, odio, ratione sunt? Provident alias, distinctio itaque delectus qui, aliquam dolores ex?
  </div>
  <aside>
    <a href="#" class="back-top" id="back-top" style="display:none;">
      back
    </a>
  </aside>
  <script>
window.onscroll=function(){
  if(getScrollPos()>window.innerHeight && $("#back-top").style.display=="none"){
    $("#back-top").style.display="inline-block";
  }else if(getScrollPos()<window.innerHeight && $("#back-top").style.display=="inline-block"){
    $("#back-top").style.display="none";
  }
}
function getScrollPos(){
  return document.body.scrollTop||document.documentElement.scrollTop;
}
function setScrollPos(num){
  if(document.body.scrollTop){
    document.body.scrollTop=num;
  }else{
    document.documentElement.scrollTop=num;
  }   
}
/*实现缓动*/
$("#back-top").onclick=function(e){
  e=eventUtil.getEvent(e);
  eventUtil.preventDefault(e);
  moveToTop();
}
function moveToTop(){
  var timer=setInterval(function(){
    var speed=Math.ceil(getScrollPos()/8);
    setScrollPos(getScrollPos()-speed);
    if(getScrollPos()==0){
      clearInterval(timer);
    }
  },30);
}
  </script>
</body>
</html>